{"title":"iOS错误整理","slug":"iOS错误集锦","date":"2020-02-24T12:53:22.000Z","updated":"2020-02-25T12:58:44.000Z","comments":true,"path":"api/articles/iOS错误集锦.json","excerpt":"点击看详情","covers":["https://upload-images.jianshu.io/upload_images/5333447-8e4fb2699d4baa10.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"],"content":"<center>点击看详情</center>\n\n<span id=\"more\"></span>\n\n<p>#2018-08-10：<br>        开始记录开发过程遇到的错误，时间长了，遇到过解决过的问题也忘掉了，所以以后的问题记下来。<br>#2018-10-11：<br>        A页面和B页面都存在 一个WKWebView。 但是在实践中发现：localStorage信息不一致。在B页面使用localStorage保存信息。 回到A页面取不到相应的数据。问题在于每个WKWebView的 ProcessPool，描述是：The process pool from which to obtain the view’s Web Content process.<br>####解决方法：<br>把config中的processPool变为单例共享</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">WKWebViewConfiguration *wkConfig &#x3D; [[WKWebViewConfiguration alloc] init];</span><br><span class=\"line\">&#x2F;&#x2F;使用单例 解决locastorge 储存问题</span><br><span class=\"line\">wkConfig.processPool &#x3D; [WkWebViewController singleWkProcessPool];</span><br><span class=\"line\">_wkWebView &#x3D; [[WKWebView alloc] initWithFrame:CGRectZero configuration:wkConfig];</span><br></pre></td></tr></table></figure>\n<p>####单例方法如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@implementation WebViewController</span><br><span class=\"line\">static WKProcessPool * sharedPool &#x3D; nil;</span><br><span class=\"line\"></span><br><span class=\"line\">+ (WKProcessPool *)singleWkProcessPool&#123;</span><br><span class=\"line\">    static dispatch_once_t onceToken;</span><br><span class=\"line\">    dispatch_once(&amp;onceToken, ^&#123;</span><br><span class=\"line\">        sharedPool &#x3D; [[WKProcessPool alloc] init];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return sharedPool;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>###2018-10-17:<br><img src=\"https://upload-images.jianshu.io/upload_images/5333447-8e4fb2699d4baa10.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"><br>tableView的HeadView和FootView出现多余高度时：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">self.tableView.sectionHeaderHeight &#x3D; 0;</span><br><span class=\"line\">self.tableView.sectionFooterHeight &#x3D; 0;</span><br></pre></td></tr></table></figure>\n<p>####End</p>\n","categories":[{"name":"iOS","path":"api/categories/iOS.json"}],"tags":[{"name":"iOS","path":"api/tags/iOS.json"}]}