{"title":"iOS常用宏定义","slug":"iOS常用宏定义","date":"2020-02-24T12:53:22.000Z","updated":"2020-02-25T13:02:48.000Z","comments":true,"path":"api/articles/iOS常用宏定义.json","excerpt":"点击看详情","covers":null,"content":"<center>点击看详情</center>\n\n<span id=\"more\"></span>\n\n<p>宏定义可以很方便开发和调试，我们也要对其进行归类，提高代码可读性和规范性。</p>\n<p>宏定义在很多方面都会使用，例如定义高度、判断iOS系统、工具类，还有诸如文件路径、服务端api接口文档。为了对宏能够快速定位和了解其功能，我们最好在定义的时候将其放入特定的头文件中，下面我抛砖引玉，对一些常用的宏进行分类、分文件定义，希望对大家有所帮助。</p>\n<p>1.定义尺寸类的宏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DimensMacros.h</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;状态栏高度</span><br><span class=\"line\">#define STATUS_BAR_HEIGHT 20</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;NavBar高度</span><br><span class=\"line\">#define NAVIGATION_BAR_HEIGHT 44</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;状态栏 ＋ 导航栏 高度</span><br><span class=\"line\">#define STATUS_AND_NAVIGATION_HEIGHT ((STATUS_BAR_HEIGHT) + (NAVIGATION_BAR_HEIGHT))</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;屏幕 rect</span><br><span class=\"line\">#define SCREEN_RECT ([UIScreen mainScreen].bounds)</span><br><span class=\"line\">#define SCREEN_WIDTH ([UIScreen mainScreen].bounds.size.width)</span><br><span class=\"line\">#define SCREEN_HEIGHT ([UIScreen mainScreen].bounds.size.height)</span><br><span class=\"line\">#define CONTENT_HEIGHT (SCREEN_HEIGHT - NAVIGATION_BAR_HEIGHT - STATUS_BAR_HEIGHT)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;屏幕分辨率</span><br><span class=\"line\">#define SCREEN_RESOLUTION (SCREEN_WIDTH * SCREEN_HEIGHT * ([UIScreen mainScreen].scale))</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;广告栏高度</span><br><span class=\"line\">#define BANNER_HEIGHT 215</span><br><span class=\"line\">#define STYLEPAGE_HEIGHT 21</span><br><span class=\"line\">#define SMALLTV_HEIGHT 77</span><br><span class=\"line\">#define SMALLTV_WIDTH 110</span><br><span class=\"line\">#define FOLLOW_HEIGHT 220</span><br><span class=\"line\">#define SUBCHANNEL_HEIGHT 62</span><br></pre></td></tr></table></figure>\n<p>2.定义沙盒目录文件的宏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PathMacros.h</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;文件目录</span><br><span class=\"line\">#define kPathTemp NSTemporaryDirectory()</span><br><span class=\"line\">#define kPathDocument [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0]</span><br><span class=\"line\">#define kPathCache [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) objectAtIndex:0]</span><br><span class=\"line\">#define kPathSearch [kPathDocument stringByAppendingPathComponent:@&quot;Search.plist&quot;]</span><br><span class=\"line\">#define kPathMagazine [kPathDocument stringByAppendingPathComponent:@&quot;Magazine&quot;]</span><br><span class=\"line\">#define kPathDownloadedMgzs [kPathMagazine stringByAppendingPathComponent:@&quot;DownloadedMgz.plist&quot;]</span><br><span class=\"line\">#define kPathDownloadURLs [kPathMagazine stringByAppendingPathComponent:@&quot;DownloadURLs.plist&quot;]</span><br><span class=\"line\">#define kPathOperation [kPathMagazine stringByAppendingPathComponent:@&quot;Operation.plist&quot;]</span><br><span class=\"line\">#define kPathSplashScreen [kPathCache stringByAppendingPathComponent:@&quot;splashScreen&quot;]</span><br></pre></td></tr></table></figure>\n<p>3.工具类的宏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UtilsMacros.h</span><br><span class=\"line\">&#x2F;&#x2F;Log utils marco</span><br><span class=\"line\"></span><br><span class=\"line\">#define ALog(fmt, ...) NSLog((@&quot;%s [Line %d] &quot; fmt), __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__);</span><br><span class=\"line\">#ifdef DEBUG</span><br><span class=\"line\">#define DLog(fmt, ...) NSLog((@&quot;%s [Line %d] &quot; fmt), __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__);</span><br><span class=\"line\">#else</span><br><span class=\"line\">#define DLog(...)</span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">#ifdef DEBUG</span><br><span class=\"line\">#define ULog(...)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;#define ULog(fmt, ...)  &#123; UIAlertView *alert &#x3D; [[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;%s\\n [Line %d] &quot;, __PRETTY_FUNCTION__, __LINE__] message:[NSString stringWithFormat:fmt, ##__VA_ARGS__]  delegate:nil cancelButtonTitle:@&quot;Ok&quot; otherButtonTitles:nil]; [alert show]; &#125;</span><br><span class=\"line\">#else</span><br><span class=\"line\">#define ULog(...)</span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;System version utils</span><br><span class=\"line\"></span><br><span class=\"line\">#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] &#x3D;&#x3D; NSOrderedSame)</span><br><span class=\"line\">#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] &#x3D;&#x3D; NSOrderedDescending)</span><br><span class=\"line\">#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] !&#x3D; NSOrderedAscending)</span><br><span class=\"line\">#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] &#x3D;&#x3D; NSOrderedAscending)</span><br><span class=\"line\">#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] !&#x3D; NSOrderedDescending)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; 获取RGB颜色</span><br><span class=\"line\">#define RGBA(r,g,b,a) [UIColor colorWithRed:r&#x2F;255.0f green:g&#x2F;255.0f blue:b&#x2F;255.0f alpha:a]</span><br><span class=\"line\">#define RGB(r,g,b) RGBA(r,g,b,1.0f)</span><br><span class=\"line\"></span><br><span class=\"line\">#define IsPortrait ([UIApplication sharedApplication].statusBarOrientation &#x3D;&#x3D; UIInterfaceOrientationPortrait || [UIApplication sharedApplication].statusBarOrientation &#x3D;&#x3D; UIInterfaceOrientationPortraitUpsideDown)</span><br><span class=\"line\"></span><br><span class=\"line\">#define IsNilOrNull(_ref)   (((_ref) &#x3D;&#x3D; nil) || ([(_ref) isEqual:[NSNull null]]))</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;角度转弧度</span><br><span class=\"line\">#define DEGREES_TO_RADIANS(d) (d * M_PI &#x2F; 180)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;大于等于7.0的ios版本</span><br><span class=\"line\">#define iOS7_OR_LATER SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@&quot;7.0&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;大于等于8.0的ios版本</span><br><span class=\"line\">#define iOS8_OR_LATER SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@&quot;8.0&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;iOS6时，导航VC中view的起始高度</span><br><span class=\"line\">#define YH_HEIGHT (iOS7_OR_LATER ? 64:0)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;获取系统时间戳</span><br><span class=\"line\">#define getCurentTime [NSString stringWithFormat:@&quot;%ld&quot;, (long)[[NSDate date] timeIntervalSince1970]]</span><br></pre></td></tr></table></figure>\n<p>4.通知Notification相关的宏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NotificationMacros.h</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;系统Notification定义</span><br><span class=\"line\">#define TNCancelFavoriteProductNotification     @&quot;TNCancelFavoriteProductNotification&quot;      &#x2F;&#x2F;取消收藏时</span><br><span class=\"line\">#define TNMarkFavoriteProductNotification       @&quot;TNMarkFavoriteProductNotification&quot;        &#x2F;&#x2F;标记收藏时</span><br><span class=\"line\"></span><br><span class=\"line\">#define kNotficationDownloadProgressChanged     @&quot;kNotficationDownloadProgressChanged&quot;      &#x2F;&#x2F;下载进度变化</span><br><span class=\"line\">#define kNotificationPauseDownload              @&quot;kNotificationPauseDownload&quot;               &#x2F;&#x2F;暂停下载</span><br><span class=\"line\">#define kNotificationStartDownload              @&quot;kNotificationStartDownload&quot;               &#x2F;&#x2F;开始下载</span><br><span class=\"line\"></span><br><span class=\"line\">#define kNotificationDownloadSuccess            @&quot;kNotificationDownloadSuccess&quot;             &#x2F;&#x2F;下载成功</span><br><span class=\"line\">#define kNotificationDownloadFailed             @&quot;kNotificationDownloadFailed&quot;              &#x2F;&#x2F;下载失败</span><br><span class=\"line\">#define kNotificationDownloadNewMagazine        @&quot;kNotificationDownloadNewMagazine&quot;</span><br></pre></td></tr></table></figure>\n<p>服务端API接口的宏</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APIStringMacros.h</span><br><span class=\"line\">&#x2F;&#x2F;接口名称相关</span><br><span class=\"line\"></span><br><span class=\"line\">#ifdef DEBUG</span><br><span class=\"line\">&#x2F;&#x2F;Debug状态下的测试API</span><br><span class=\"line\">#define API_BASE_URL_STRING     @&quot;http:&#x2F;&#x2F;boys.test.companydomain.com&#x2F;api&#x2F;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#else</span><br><span class=\"line\">&#x2F;&#x2F;Release状态下的线上API</span><br><span class=\"line\">#define API_BASE_URL_STRING     @&quot;http:&#x2F;&#x2F;www.companydomain.com&#x2F;api&#x2F;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;接口</span><br><span class=\"line\">#define GET_CONTENT_DETAIL      @&quot;channel&#x2F;getContentDetail&quot; &#x2F;&#x2F;获取内容详情(含上一个和下一个)</span><br><span class=\"line\"></span><br><span class=\"line\">#define GET_COMMENT_LIST        @&quot;comment&#x2F;getCommentList&quot;   &#x2F;&#x2F;获取评论列表</span><br><span class=\"line\"></span><br><span class=\"line\">#define COMMENT_LOGIN           @&quot;comment&#x2F;login&quot;            &#x2F;&#x2F;获取评论列表</span><br><span class=\"line\"></span><br><span class=\"line\">#define COMMENT_PUBLISH         @&quot;comment&#x2F;publish&quot;          &#x2F;&#x2F;发布评论</span><br><span class=\"line\"></span><br><span class=\"line\">#define COMMENT_DELETE          @&quot;comment&#x2F;delComment&quot;       &#x2F;&#x2F;删除评论</span><br><span class=\"line\"></span><br><span class=\"line\">#define LOGINOUT                @&quot;common&#x2F;logout&quot;            &#x2F;&#x2F;登出</span><br></pre></td></tr></table></figure>\n<p>还有很多其他类型的宏，此处不一一列举</p>\n<p>创建一个import所有宏相关的文件Macros.h</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Macros.h</span><br><span class=\"line\">#import &quot;UtilsMacros.h&quot;</span><br><span class=\"line\">#import &quot;APIStringMacros.h&quot;</span><br><span class=\"line\">#import &quot;DimensMacros.h&quot;</span><br><span class=\"line\">#import &quot;NotificationMacros.h&quot;</span><br><span class=\"line\">#import &quot;SharePlatformMacros.h&quot;</span><br><span class=\"line\">#import &quot;StringMacros.h&quot;</span><br><span class=\"line\">#import &quot;UserBehaviorMacros.h&quot;</span><br><span class=\"line\">#import &quot;PathMacros.h&quot;</span><br></pre></td></tr></table></figure>\n<p>在xcode项目的pch文件中，导入Macros.h文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">XcodeProjectName-Prefix.pch</span><br><span class=\"line\">#ifdef __OBJC__</span><br><span class=\"line\">    #import &lt;UIKit&#x2F;UIKit.h&gt;</span><br><span class=\"line\">    #import &lt;Foundation&#x2F;Foundation.h&gt;</span><br><span class=\"line\">    #import &quot;Macros.h&quot;</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"iOS","path":"api/categories/iOS.json"}],"tags":[{"name":"iOS","path":"api/tags/iOS.json"}]}