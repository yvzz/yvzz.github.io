{"title":"Docker安装及编译ESP-OPEN-SDK程序","slug":"Docker安装及编译ESP","date":"2021-04-13T08:20:59.000Z","updated":"2021-04-13T08:31:34.000Z","comments":true,"path":"api/articles/Docker安装及编译ESP.json","excerpt":null,"covers":null,"content":"<p>Docker作为一种轻量化、可移植的容器，可以快速部署 esp-open-sdk 编译环境</p>\n<h2 id=\"1-下载和安装Docker\"><a href=\"#1-下载和安装Docker\" class=\"headerlink\" title=\"1.下载和安装Docker\"></a>1.下载和安装Docker</h2><p><a href=\"https://www.docker.com/products/docker-desktop\">Docker Desktop</a>相信大家都会</p>\n<h2 id=\"2-修改国内镜像源\"><a href=\"#2-修改国内镜像源\" class=\"headerlink\" title=\"2.修改国内镜像源\"></a>2.修改国内镜像源</h2><p>点击 <code>Preferences - Docker Engin</code> </p>\n<p>修改如下代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;features&quot;: &#123;</span><br><span class=\"line\">    &quot;buildkit&quot;: true</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&quot;experimental&quot;: false,</span><br><span class=\"line\">&quot;registry-mirrors&quot;: [</span><br><span class=\"line\">    &quot;https:&#x2F;&#x2F;docker.mirrors.ustc.edu.cn&quot;,</span><br><span class=\"line\">    &quot;https:&#x2F;&#x2F;hub-mirror.c.163.com&quot;,</span><br><span class=\"line\">    &quot;https:&#x2F;&#x2F;registry.docker-cn.com&quot;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>点击 <code>Apply &amp; Restart</code> 重启Docker</p>\n<h2 id=\"3-下载esp-open-sdk镜像\"><a href=\"#3-下载esp-open-sdk镜像\" class=\"headerlink\" title=\"3.下载esp-open-sdk镜像\"></a>3.下载esp-open-sdk镜像</h2><p>下载之前需要先注册 <a href=\"https://registry.hub.docker.com/\">Docker Hub</a> 账号并登录</p>\n<p>打开 <code>终端</code> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull jedie&#x2F;esp-open-sdk</span><br></pre></td></tr></table></figure>\n\n<p>等待镜像下载完成</p>\n<h2 id=\"4-启动容器\"><a href=\"#4-启动容器\" class=\"headerlink\" title=\"4.启动容器\"></a>4.启动容器</h2><p>在 <code>终端</code> 中</p>\n<p>启动一个新的容器并指定名称为esp：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -it --name esp jedie&#x2F;esp-open-sdk:latest &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>\n\n<p>启动一个已有的容器：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it esp &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"5-将文件移动到容器中\"><a href=\"#5-将文件移动到容器中\" class=\"headerlink\" title=\"5.将文件移动到容器中\"></a>5.将文件移动到容器中</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp &#x2F;Users&#x2F;ryinn&#x2F;esp-homekit-direct esp:&#x2F;opt&#x2F;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6-编译\"><a href=\"#6-编译\" class=\"headerlink\" title=\"6.编译\"></a>6.编译</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it esp &#x2F;bin&#x2F;bash</span><br><span class=\"line\"></span><br><span class=\"line\">make -C &#x2F;opt&#x2F;esp-homekit-direct&#x2F;devices&#x2F;switch all</span><br></pre></td></tr></table></figure>\n\n","categories":[{"name":"ESP8266","path":"api/categories/ESP8266.json"}],"tags":[{"name":"智能家居","path":"api/tags/智能家居.json"}]}